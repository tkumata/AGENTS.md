# AGENTS.md

## 基本方針

- 必ず日本語で応答すること

## 制限事項

- Markdown 内のテーブル表記や ASCII 図やテキスト図は、日本語を使用してはならない（英語と罫線と Unicode Block Elements のみ）。
  - e.g., 罫線や Unicode Block Elements とは、┌─┐│└─┘┬┴├┤█, ░, ─らを指す。
  - 「テーブル表記」とは Markdown の | 区切り表を指す
  - コードブロック内のコメントは本制限の対象外とする
- git コマンドを実行してはならない。

## 新規開発方針

- いきなり実装してはならない (いきなりプログラムを書いてはならない)
- 不明点がある状態での実装は禁止とする
- 以下の未定義があれば中学生にもわかるように質問すること
  - デフォルトの挙動
  - 数値
- 要件定義書や設計書や仕様書を先に作成すること
  - ファイル名は大文字の英語を利用すること
    - 要件定義書：REQUIREMENTS.md
    - 設計書：DESIGN.md
    - 仕様書：SPECIFICATIONS.md
    - タスク管理：TODO.md
  - すでに存在する場合は、上書きせず追記すること
- 要件定義書や設計書や仕様書などのドキュメントは ./docs/ ディレクトリ配下に生成すること

## フェーズ別特例

- 「修正」「バグ」「不具合」「エラー」「直して」「直す」「治す」「fix」「hotfix」「patch」がユーザーの依頼内容（タスク）に含まれる場合は、保守フェーズとみなす。

## 保守フェーズでは以下を適用する

- 新規開発フェーズの「いきなり実装禁止ルール」を解除する
- REQUIREMENTS / DESIGN / SPECIFICATIONS / TODO の新規作成は不要とする
- 既存コードと既存ドキュメントを正とする
  - コードとドキュメントに乖離がある場合は、ソースコードを優先する。
- 未定義の質問は、修正に直接必要なものに限定する
- 保守フェーズでは、既存仕様の変更を伴わない限り、新たな仕様定義は禁止する
- 不明点がある場合でも、最小限の仮定を明示した上で暫定的な修正案やパッチを提示してよい
  - 「最小限の仮定」とは、型・戻り値・既存挙動から合理的に推測できる範囲を指す
